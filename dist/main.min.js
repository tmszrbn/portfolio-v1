function smoothScroll(t,e,o=100){const l=scrollEvent?scrollEvent.pageY:0,n=Math.abs(l-t);let r=Math.ceil(n/e*o)+.05*o;if(currItem==t&&r<n){l>t+r&&(r=-r);const o=l+window.innerHeight;o+r<e?requestAnimationFrame(()=>{scrollBy(0,r),smoothScroll(t,e)}):e-o<e-t&&scrollBy(0,e-o)}}function scroll(t){const e=t.offsetTop-t.offsetHeight;currItem=e;smoothScroll(e,document.body.clientHeight)}const navItems=Array.from(document.querySelectorAll('[href^="#"]'));let scrollEvent;const targets=[];navItems.map(t=>{const e=t.getAttribute("href"),o=document.querySelector(e);t.onclick=function(t){t.preventDefault(),scroll(o,document.body.offsetHeight)},console.log(o),targets.push([o,t])}),window.addEventListener("scroll",t=>{scrollEvent=t});let currItem;const scrollspy=()=>{let t,e=scrollEvent?scrollEvent.pageY:0;if(e+window.innerHeight>=document.body.offsetHeight-10)t=navItems[navItems.length-1];else for(let o of targets)o[0].parentElement.getBoundingClientRect().top<e&&o[0].parentElement.getBoundingClientRect().bottom>e&&(t=o[1]);t&&(t.style.color="red")};setInterval(()=>{scrollspy(),console.log("interval")},200);